# 版本歷史

> Dr. Shine 醫美診所 - 簡訊管理系統版本記錄

---

## [Current: v2.3] - 2025-12-01

### 🎨 UI/UX 改進
- **移除「已合併」狀態顯示**
  - 改為顯示原始簡訊狀態（未發送、排程中等）
  - 非最早預約使用半透明樣式（opacity: 0.5）表示不可操作
  - 懸停時顯示 tooltip：「非最早預約，不可操作」

### 📖 文檔
詳見：[docs/archive/updates/v2.3-移除已合併狀態.md](./docs/archive/updates/v2.3-移除已合併狀態.md)

---

## [v2.2] - 2025-12-01

### ✨ 新功能
- **新增「取消預約」功能**
  - 區分「取消簡訊」vs「取消預約」
  - 新增 `appointmentStatus` 欄位
  - 完善自動補位觸發邏輯

### 🐛 Bug 修復
- 修正情境5自動補位觸發時機
- 只有取消預約會觸發補位，取消簡訊不會

### 📋 資料結構
- 新增欄位：`appointmentStatus` ('cancelled' | '')

### 📖 文檔
詳見：[docs/archive/updates/v2.2-取消預約功能.md](./docs/archive/updates/v2.2-取消預約功能.md)

---

## [v2.1] - 2025-12-01

### ✨ 新功能
- **活躍預約管理機制**
  - 引入「活躍預約」vs「非活躍預約」概念
  - 只有最早的有效預約可操作簡訊
  - 時間相同時選擇 ID 較小的預約

### 🎨 UI/UX 改進
- 非最早預約顯示「已合併」狀態（v2.3 已改為顯示原狀態）
- 新增後端 API 判斷預約可否操作

### 📖 文檔
詳見：
- [docs/archive/updates/v2.1-最早預約邏輯.md](./docs/archive/updates/v2.1-最早預約邏輯.md)
- [docs/archive/updates/v2.1-活躍預約邏輯.md](./docs/archive/updates/v2.1-活躍預約邏輯.md)

---

## [v2.0] - 2025-11-XX

### ✨ 主要功能
- **完整優化方案上線**
  - 智能簡訊排程系統
  - 27個門市、5個消耗區域群組規劃
  - 客戶資格檢查機制
  - 自動補位邏輯

### 📊 核心規則
- **規則一：消耗區域群組規則**
  - 同一天 + 同一門市群組 → 只發送最早的一封簡訊
- **規則二：單一門市規則**
  - 同一天 + 同一門市 → 只發送最早的簡訊

### 🎨 UI/UX 設計
- 統一彈窗架構（5個標準情境）
- 顏色引導系統（danger/warning/success/default/info）
- 簡訊內容預覽與編輯功能

### 💰 預期效益
- 目標節省 35% 簡訊成本
- 月均 10,000 筆預約可節省約 2,450 元/月
- 年度預估節省 29,400 元

### 📖 文檔
詳見：[docs/archive/v2.0-完整優化方案.md](./docs/archive/v2.0-完整優化方案.md)

---

## [v1.0] - 2025-XX-XX

### ✨ 基礎功能
- 基本簡訊發送規則
- 門市群組初步規劃
- UI 原型設計

### 📖 文檔
詳見：[版本對比/v1-方案A-基礎重組版/](./版本對比/v1-方案A-基礎重組版/)

---

## [v0.0] - 2025-XX-XX

### 🎯 初始概念
- 專案啟動
- 需求調研
- 原始方案設計

### 📖 文檔
詳見：[版本對比/v0-原始版本/](./版本對比/v0-原始版本/)

---

## 版本說明

### 版本號規則
- **Major (v2.x)**: 重大功能更新或架構變更
- **Minor (vx.1)**: 新功能添加或重要改進
- **Patch (vx.x.1)**: Bug 修復或小幅優化

### 文檔約定
- 所有歷史版本文檔歸檔於 `docs/archive/updates/`
- 完整方案文檔歸檔於 `docs/archive/`
- 當前版本文檔位於 `docs/` 各子目錄中

---

**最後更新：** 2025-12-03
**維護單位：** Dr. Shine 簡訊管理系統專案組
